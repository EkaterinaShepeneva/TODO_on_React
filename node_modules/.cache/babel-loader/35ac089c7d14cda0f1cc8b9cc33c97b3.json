{"ast":null,"code":"import _slicedToArray from\"/home/user/internship/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Task(_ref){var task=_ref.task,removeTask=_ref.removeTask,checkTask=_ref.checkTask,tasks=_ref.tasks,validate=_ref.validate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),statusInput=_useState4[0],setStatusInput=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),userInput=_useState6[0],setUserInput=_useState6[1];var handleChange=function handleChange(event){setUserInput(event.target.value);};var changeStatusInput=function changeStatusInput(value,event){setUserInput(value);setStatusInput(1);};var blurInput=function blurInput(event,id){handleSubmit(event,id);};var handleSubmit=function handleSubmit(event,id){event.preventDefault();var title=String(userInput).trim();if(!validate(title)){setStatusInput(0);return;}if(title){tasks.find(function(task){if(task.id===id){task.title=title;return true;}});}setStatusInput(0);};var handleKeyPress=function handleKeyPress(event,id){switch(event.key){case\"Enter\":handleSubmit(event,id);break;case\"Escape\":setStatusInput(0);break;default:break;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"task\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task__inputs\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"task__left\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"task__check\",defaultChecked:task.check,onChange:function onChange(){return setChecked(!checked);},onClick:function onClick(){return checkTask(task.id);},type:\"checkbox\"}),statusInput===1?/*#__PURE__*/_jsx(\"input\",{className:\"editTask\",autoFocus:true,onBlur:function onBlur(event){blurInput(event,task.id);},onKeyDown:function onKeyDown(event){handleKeyPress(event,task.id);},value:userInput,onChange:handleChange,type:\"text\"}):/*#__PURE__*/_jsx(\"div\",{className:\"task__text\",id:task.id,onDoubleClick:function onDoubleClick(event){changeStatusInput(task.title,event);},children:task.title})]}),/*#__PURE__*/_jsx(\"button\",{className:\"task__btnDelete\",onClick:function onClick(){return removeTask(task.id);},children:\"del\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"task__date\",children:task.date})]},task.id);}export default Task;","map":{"version":3,"names":["useState","React","Task","task","removeTask","checkTask","tasks","validate","checked","setChecked","statusInput","setStatusInput","userInput","setUserInput","handleChange","event","target","value","changeStatusInput","blurInput","id","handleSubmit","preventDefault","title","String","trim","find","handleKeyPress","key","check","date"],"sources":["/home/user/internship/react/src/components/TasksBox/Task.js"],"sourcesContent":["import { useState } from \"react\";\nimport React from \"react\";\n\nfunction Task({ task, removeTask, checkTask, tasks, validate }) {\n  const [checked, setChecked] = useState(false);\n  const [statusInput, setStatusInput] = useState(0);\n  const [userInput, setUserInput] = useState();\n\n  const handleChange = (event) => {\n    setUserInput(event.target.value);\n  };\n\n  const changeStatusInput = (value, event) => {\n    setUserInput(value);\n    setStatusInput(1);\n  };\n\n  const blurInput = (event, id) => {\n    handleSubmit(event, id);\n  };\n\n  const handleSubmit = (event, id) => {\n    event.preventDefault();\n    const title = String(userInput).trim();\n    if (!validate(title)) {\n      setStatusInput(0);\n      return;\n    }\n    if (title) {\n      tasks.find((task) => {\n        if (task.id === id) {\n          task.title = title;\n          return true;\n        }\n      });\n    }\n\n    setStatusInput(0);\n  };\n\n  const handleKeyPress = (event, id) => {\n    switch (event.key) {\n      case \"Enter\":\n        handleSubmit(event, id);\n        break;\n      case \"Escape\":\n        setStatusInput(0);\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div key={task.id} className=\"task\">\n      <div className=\"task__inputs\">\n        <section className=\"task__left\">\n          <input\n            className=\"task__check\"\n            defaultChecked={task.check}\n            onChange={() => setChecked(!checked)}\n            onClick={() => checkTask(task.id)}\n            type=\"checkbox\"\n          />\n          {statusInput === 1 ? (\n            <input\n              className=\"editTask\"\n              autoFocus\n              onBlur={(event) => {\n                blurInput(event, task.id);\n              }}\n              onKeyDown={(event) => {\n                handleKeyPress(event, task.id);\n              }}\n              value={userInput}\n              onChange={handleChange}\n              type=\"text\"\n            />\n          ) : (\n            <div\n              className=\"task__text\"\n              id={task.id}\n              onDoubleClick={(event) => {\n                changeStatusInput(task.title, event);\n              }}\n            >\n              {task.title}\n            </div>\n          )}\n        </section>\n        <button className=\"task__btnDelete\" onClick={() => removeTask(task.id)}>\n          del\n        </button>\n      </div>\n\n      <div className=\"task__date\">{task.date}</div>\n    </div>\n  );\n}\n\nexport default Task;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}