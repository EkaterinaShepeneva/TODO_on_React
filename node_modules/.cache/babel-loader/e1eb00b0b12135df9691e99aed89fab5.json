{"ast":null,"code":"import _toConsumableArray from\"/home/user/internship/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useEffect}from\"react\";import\"./Filters.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Filters(_ref){var setFilter=_ref.setFilter,setSort=_ref.setSort,setFiltredArray=_ref.setFiltredArray,setPagesCount=_ref.setPagesCount,filters=_ref.filters,tasks=_ref.tasks,sort=_ref.sort,filtredArray=_ref.filtredArray;var onFilter=function onFilter(filter){setFilter(filter);};var onSort=function onSort(sort){setSort(sort);};useEffect(function(){switch(filters){case\"filter__all\":setFiltredArray(_toConsumableArray(tasks).sort(function(prev,next){return sort===\"sort__last\"?prev.id-next.id:next.id-prev.id;}));break;case\"filter__done\":setFiltredArray(_toConsumableArray(tasks).filter(function(task){return task.check===true;}).sort(function(prev,next){return sort===\"sort__last\"?prev.id-next.id:next.id-prev.id;}));break;default:setFiltredArray(_toConsumableArray(tasks).filter(function(task){return task.check!==true;}).sort(function(prev,next){return sort===\"sort__last\"?prev.id-next.id:next.id-prev.id;}));break;}},[filters,sort,tasks]);useEffect(function(){setPagesCount(Math.ceil(filtredArray.length/4)||1);},[filtredArray,filters,sort]);return/*#__PURE__*/_jsxs(\"section\",{className:\"filterBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox__filter\",children:[/*#__PURE__*/_jsx(\"button\",{className:filters===\"filter__all\"?\"filter__all btnActive\":\"filter__all\",onClick:function onClick(){onFilter(\"filter__all\");},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:filters===\"filter__done\"?\"filter__donel btnActive\":\"filter__done\",onClick:function onClick(){onFilter(\"filter__done\");},children:\"Done\"}),/*#__PURE__*/_jsx(\"button\",{className:filters===\"filter__undone\"?\"filter__undone btnActive\":\"filter__undone\",onClick:function onClick(){onFilter(\"filter__undone\");},children:\"Undone\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox__sorting\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sort by Date\"}),/*#__PURE__*/_jsx(\"button\",{className:sort===\"sort__early\"?\"sort__early btnActive\":\"sort__early\",onClick:function onClick(){onSort(\"sort__early\");},children:\"Ear\"}),/*#__PURE__*/_jsx(\"button\",{className:sort===\"sort__last\"?\"sort__last btnActive\":\"sort__last\",onClick:function onClick(){onSort(\"sort__last\");},children:\"Las\"})]})]});}export default Filters;","map":{"version":3,"names":["useEffect","Filters","setFilter","setSort","setFiltredArray","setPagesCount","filters","tasks","sort","filtredArray","onFilter","filter","onSort","prev","next","id","task","check","Math","ceil","length"],"sources":["/home/user/internship/react/src/components/Filters/Filters.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport \"./Filters.css\";\n\nfunction Filters({\n  setFilter,\n  setSort,\n  setFiltredArray,\n  setPagesCount,\n  filters,\n  tasks,\n  sort,\n  filtredArray,\n}) {\n  const onFilter = (filter) => {\n    setFilter(filter);\n  };\n\n  const onSort = (sort) => {\n    setSort(sort);\n  };\n\n  useEffect(() => {\n    switch (filters) {\n      case \"filter__all\":\n        setFiltredArray(\n          [...tasks].sort((prev, next) =>\n            sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id\n          )\n        );\n        break;\n\n      case \"filter__done\":\n        setFiltredArray(\n          [...tasks]\n            .filter((task) => task.check === true)\n            .sort((prev, next) =>\n              sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id\n            )\n        );\n        break;\n\n      default:\n        setFiltredArray(\n          [...tasks]\n            .filter((task) => task.check !== true)\n            .sort((prev, next) =>\n              sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id\n            )\n        );\n        break;\n    }\n  }, [filters, sort, tasks]);\n\n  useEffect(() => {\n    setPagesCount(Math.ceil(filtredArray.length / 4) || 1);\n  }, [filtredArray, filters, sort]);\n\n  return (\n    <section className=\"filterBox\">\n      <div className=\"filterBox__filter\">\n        <button\n          className={\n            filters === \"filter__all\" ? \"filter__all btnActive\" : \"filter__all\"\n          }\n          onClick={() => {\n            onFilter(\"filter__all\");\n          }}\n        >\n          All\n        </button>\n        <button\n          className={\n            filters === \"filter__done\"\n              ? \"filter__donel btnActive\"\n              : \"filter__done\"\n          }\n          onClick={() => {\n            onFilter(\"filter__done\");\n          }}\n        >\n          Done\n        </button>\n        <button\n          className={\n            filters === \"filter__undone\"\n              ? \"filter__undone btnActive\"\n              : \"filter__undone\"\n          }\n          onClick={() => {\n            onFilter(\"filter__undone\");\n          }}\n        >\n          Undone\n        </button>\n      </div>\n      <div className=\"filterBox__sorting\">\n        <span>Sort by Date</span>\n        <button\n          className={\n            sort === \"sort__early\" ? \"sort__early btnActive\" : \"sort__early\"\n          }\n          onClick={() => {\n            onSort(\"sort__early\");\n          }}\n        >\n          Ear\n        </button>\n        <button\n          className={\n            sort === \"sort__last\" ? \"sort__last btnActive\" : \"sort__last\"\n          }\n          onClick={() => {\n            onSort(\"sort__last\");\n          }}\n        >\n          Las\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default Filters;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}