{"ast":null,"code":"import _toConsumableArray from\"/home/user/internship/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/user/internship/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useEffect}from\"react\";import Task from\"./Task\";import TodoForm from\"./TodoForm.js\";import Filters from\"./Filters\";import Pagination from\"./Pagination\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var NUM_TASK=4;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];var _useState3=useState(\"filter__all\"),_useState4=_slicedToArray(_useState3,2),filters=_useState4[0],setFilter=_useState4[1];//const [statusTask, setstatusTask] = useState(0);\nvar _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPages=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),pagesCount=_useState8[0],setPagesCount=_useState8[1];var _useState9=useState([page]),_useState10=_slicedToArray(_useState9,2),pagesCountArray=_useState10[0],setPagesCountArray=_useState10[1];var _useState11=useState(\"sort__last\"),_useState12=_slicedToArray(_useState11,2),sort=_useState12[0],setSort=_useState12[1];// useEffect(() => {\n//   console.log('use effect');\n//   setPagesCount((Math.ceil((tasks.length + 1) / 4)) || 1)\n// }, [filters]);\nvar handleFilter=function handleFilter(filter){setFilter(filter);};var handleSort=function handleSort(sort){setSort(sort);};var handlePage=function handlePage(event){switch(event.target.className){case\"pagination__forward\":if(page===pagesCount){break;}setPages(page+1);break;case\"pagination__back\":if(page===1){break;}setPages(page-1);break;default:break;}};// const pagination = () => {\n//   let arrayPages = [];\n//   for (let i = 1; i < pagesCount + 1; i++) {\n//     arrayPages.push(\n//       <div\n//         key={Math.random()}\n//         className={\n//           i === page\n//             ? \"pagination__pages__number activePages\"\n//             : \"pagination__pages__number\"\n//         }\n//       >\n//         {i}\n//       </div>\n//     );\n//   }\n//   return arrayPages;\n// };\nvar addTask=function addTask(userInput){if(userInput){var newTask={title:userInput,id:Date.now(),check:false,date:moment().format(\"DD/MM/YYYY\")};setTasks([].concat(_toConsumableArray(tasks),[newTask]));}//setPagesCount((Math.ceil((tasks.length + 1) / 4)) || 1);\n};useEffect(function(){setPagesCount(Math.ceil(tasks.length/4)||1);},[tasks]);useEffect(function(){console.log(pagesCount);changePagesCount();},[pagesCount]);var removeTask=function removeTask(id){setTasks(tasks.filter(function(task){return task.id!==id;}));console.log(tasks.length);//setPagesCount((Math.ceil((tasks.length-1) / 4)) || 1);\n};var changePagesCount=function changePagesCount(){console.log(pagesCountArray);//let count = (Math.ceil((tasks.length) / NUM_TASK))|| 1\n// console.log(tasks.length );\n//setPagesCount(Math.ceil(tasks.length / NUM_TASK)|| 1)\n// console.log(pagesCount);\n// if (count){\n//   setPagesCount([...pagesCount, count])\n// }\n// console.log(pagesCount);\n};var checkTask=function checkTask(task){task.check=!task.check;// setstatusTask(1)\n};return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ToDo\"}),/*#__PURE__*/_jsx(TodoForm,{addTask:addTask}),/*#__PURE__*/_jsx(Filters,{onFilter:handleFilter,onSort:handleSort,filters:filters,sort:sort}),/*#__PURE__*/_jsx(\"div\",{className:\"tasksBox\",children:tasks.filter(function(task){return filters===\"filter__all\"?tasks:filters===\"filter__done\"?task.check===true:task.check!==true;}).sort(function(prev,next){return sort===\"sort__last\"?prev.id-next.id:next.id-prev.id;}).slice((page-1)*NUM_TASK,NUM_TASK*page).map(function(task){return/*#__PURE__*/_jsx(Task,{task:task,removeTask:removeTask,checkTask:checkTask,tasks:tasks,page:page},task.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pagination__back\",onClick:function onClick(event){handlePage(event);},children:\"back\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination__pages\",children:pagesCountArray.map(function(item){return/*#__PURE__*/_jsx(Pagination,{item:item,page:page},Math.random());})}),/*#__PURE__*/_jsx(\"button\",{className:\"pagination__forward\",onClick:function onClick(event){handlePage(event);},children:\"forward\"})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","Task","TodoForm","Filters","Pagination","moment","App","NUM_TASK","tasks","setTasks","filters","setFilter","page","setPages","pagesCount","setPagesCount","pagesCountArray","setPagesCountArray","sort","setSort","handleFilter","filter","handleSort","handlePage","event","target","className","addTask","userInput","newTask","title","id","Date","now","check","date","format","Math","ceil","length","console","log","changePagesCount","removeTask","task","checkTask","prev","next","slice","map","item","random"],"sources":["/home/user/internship/react/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Task from \"./Task\";\nimport TodoForm from \"./TodoForm.js\";\nimport Filters from \"./Filters\";\nimport Pagination from \"./Pagination\";\nimport moment from \"moment\";\n\nfunction App() {\n  const NUM_TASK = 4;\n  const [tasks, setTasks] = useState([]);\n  const [filters, setFilter] = useState(\"filter__all\");\n  //const [statusTask, setstatusTask] = useState(0);\n  const [page, setPages] = useState(1);\n  const [pagesCount, setPagesCount] = useState(1);\n  const [pagesCountArray, setPagesCountArray] = useState([page]);\n  const [sort, setSort] = useState(\"sort__last\");\n\n\n  // useEffect(() => {\n  //   console.log('use effect');\n  //   setPagesCount((Math.ceil((tasks.length + 1) / 4)) || 1)\n  // }, [filters]);\n\n  const handleFilter = (filter) => {\n    setFilter(filter);\n  };\n  const handleSort = (sort) => {\n    setSort(sort);\n  };\n  const handlePage = (event) => {\n    switch (event.target.className) {\n      case \"pagination__forward\":\n        if (page === pagesCount) {\n          break;\n        }\n        setPages(page + 1);\n        break;\n      case \"pagination__back\":\n        if (page === 1) {\n          break;\n        }\n        setPages(page - 1);\n        break;\n      default:\n        break;\n    }\n  };\n\n  // const pagination = () => {\n  //   let arrayPages = [];\n  //   for (let i = 1; i < pagesCount + 1; i++) {\n  //     arrayPages.push(\n  //       <div\n  //         key={Math.random()}\n  //         className={\n  //           i === page\n  //             ? \"pagination__pages__number activePages\"\n  //             : \"pagination__pages__number\"\n  //         }\n  //       >\n  //         {i}\n  //       </div>\n  //     );\n  //   }\n  //   return arrayPages;\n  // };\n\n  const addTask = (userInput) => {\n    if (userInput) {\n      const newTask = {\n        title: userInput,\n        id: Date.now(),\n        check: false,\n        date: moment().format(\"DD/MM/YYYY\"),\n      };\n\n      setTasks([...tasks, newTask]);\n    }\n    \n    \n    //setPagesCount((Math.ceil((tasks.length + 1) / 4)) || 1);\n  };\n  useEffect(()=> {\n    setPagesCount((Math.ceil((tasks.length) / 4)) || 1)\n  }, [tasks])\n\n  useEffect(()=> {\n    console.log(pagesCount);\n    changePagesCount()\n  }, [pagesCount])\n\n  \n  const removeTask = (id) => {\n    setTasks(tasks.filter((task) => task.id !== id))\n    console.log(tasks.length );\n    //setPagesCount((Math.ceil((tasks.length-1) / 4)) || 1);\n  };\n\n  const changePagesCount = () => {\n    console.log(pagesCountArray);\n    //let count = (Math.ceil((tasks.length) / NUM_TASK))|| 1\n    // console.log(tasks.length );\n    //setPagesCount(Math.ceil(tasks.length / NUM_TASK)|| 1)\n    // console.log(pagesCount);\n    // if (count){\n    //   setPagesCount([...pagesCount, count])\n    // }\n    \n    // console.log(pagesCount);\n  }\n\n  const checkTask = (task) => {\n    (task.check = !task.check)\n   // setstatusTask(1)\n  };\n\n  return (\n    <main>\n      <h1>ToDo</h1>\n      <TodoForm addTask={addTask} />\n      <Filters\n        onFilter={handleFilter}\n        onSort={handleSort}\n        filters={filters}\n        sort={sort}\n      />\n      <div className=\"tasksBox\">\n        {tasks\n          .filter((task) =>\n            filters === \"filter__all\"\n              ? tasks\n              : filters === \"filter__done\"\n              ? task.check === true\n              : task.check !== true\n          )\n          .sort((prev, next) =>\n            sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id\n          )\n          .slice((page - 1) * NUM_TASK, NUM_TASK * page)\n          .map((task) => {\n            return (\n              <Task\n                task={task}\n                key={task.id}\n                removeTask={removeTask}\n                checkTask={checkTask}\n                tasks={tasks}\n                page={page}\n              />\n            );\n          })}\n      </div>\n\n      <div className=\"pagination\">\n        <button\n          className=\"pagination__back\"\n          onClick={(event) => {\n            handlePage(event);\n          }}\n        >\n          back\n        </button>\n        <div className=\"pagination__pages\">{pagesCountArray.map((item) => {\n          return (<Pagination \n                  key={Math.random()}\n                  item={item} \n                  page={page}\n                    />)\n        })}</div>\n        <button\n          className=\"pagination__forward\"\n          onClick={(event) => {\n            handlePage(event);\n          }}\n        >\n          forward\n        </button>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}