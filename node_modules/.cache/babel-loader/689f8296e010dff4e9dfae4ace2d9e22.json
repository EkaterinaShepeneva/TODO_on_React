{"ast":null,"code":"var _jsxFileName = \"/home/user/internship/react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Task from \"./Task\";\nimport TodoForm from \"./TodoForm.js\";\nimport Filters from \"./Filters\";\nimport Pagination from \"./Pagination\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const NUM_TASK = 4;\n  const [tasks, setTasks] = useState([]);\n  const [filters, setFilter] = useState(\"filter__all\");\n  const [filtredArray, setFiltredArray] = useState(tasks);\n  const [page, setPages] = useState(1);\n  const [pagesCount, setPagesCount] = useState(1);\n  const [sort, setSort] = useState(\"sort__last\");\n\n  const handleFilter = filter => {\n    setFilter(filter);\n  };\n\n  const handleSort = sort => {\n    setSort(sort);\n  };\n\n  useEffect(() => {\n    switch (filters) {\n      case 'filter__all':\n        setFiltredArray([...tasks].sort((prev, next) => sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id));\n        break;\n\n      case 'filter__done':\n        setFiltredArray([...tasks].filter(task => task.check === true).sort((prev, next) => sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id));\n        break;\n\n      default:\n        setFiltredArray([...tasks].filter(task => task.check !== true).sort((prev, next) => sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id));\n        break;\n    }\n  }, [filters, sort, tasks]);\n  useEffect(() => {\n    setPagesCount(Math.ceil(filtredArray.length / 4) || 1);\n  }, [filtredArray, filters, sort]);\n  useEffect(() => {\n    if (page > pagesCount) {\n      setPages(pagesCount);\n    }\n  }, [pagesCount]);\n\n  const handlePage = event => {\n    switch (event.target.className) {\n      case \"pagination__forward\":\n        if (page === pagesCount) {\n          break;\n        }\n\n        setPages(page + 1);\n        break;\n\n      case \"pagination__back\":\n        if (page === 1) {\n          break;\n        }\n\n        setPages(page - 1);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const movingOnPages = number => {\n    setPages(number);\n  };\n\n  const addTask = userInput => {\n    if (userInput) {\n      const newTask = {\n        title: userInput,\n        id: Date.now(),\n        check: false,\n        date: moment().format(\"LLLL\")\n      };\n      setTasks([...tasks, newTask]);\n    }\n  };\n\n  const removeTask = id => {\n    setTasks(tasks.filter(task => task.id !== id));\n  };\n\n  const checkTask = id => {\n    setTasks(tasks.map(task => ({ ...task,\n      check: task.id === id ? !task.check : task.check\n    })));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"ToDo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoForm, {\n      addTask: addTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filters, {\n      onFilter: handleFilter,\n      onSort: handleSort,\n      filters: filters,\n      sort: sort\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tasksBox\",\n      children: filtredArray.slice((page - 1) * NUM_TASK, NUM_TASK * page).map(task => {\n        return /*#__PURE__*/_jsxDEV(Task, {\n          task: task,\n          removeTask: removeTask,\n          checkTask: checkTask,\n          tasks: tasks,\n          page: page\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pagination__back\",\n        onClick: event => {\n          handlePage(event);\n        },\n        children: \"back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination__pages\",\n        children: new Array(pagesCount).fill().map((el, i) => /*#__PURE__*/_jsxDEV(Pagination, {\n          page: page,\n          pagesCount: pagesCount,\n          i: i + 1,\n          movingOnPages: movingOnPages\n        }, Math.random(), false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pagination__forward\",\n        onClick: event => {\n          handlePage(event);\n        },\n        children: \"forward\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"lRo/IfjX26m5fTankGMLiOI+fQ0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Task","TodoForm","Filters","Pagination","moment","App","NUM_TASK","tasks","setTasks","filters","setFilter","filtredArray","setFiltredArray","page","setPages","pagesCount","setPagesCount","sort","setSort","handleFilter","filter","handleSort","prev","next","id","task","check","Math","ceil","length","handlePage","event","target","className","movingOnPages","number","addTask","userInput","newTask","title","Date","now","date","format","removeTask","checkTask","map","slice","Array","fill","el","i","random"],"sources":["/home/user/internship/react/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Task from \"./Task\";\nimport TodoForm from \"./TodoForm.js\";\nimport Filters from \"./Filters\";\nimport Pagination from \"./Pagination\";\nimport moment from \"moment\";\n\nfunction App() {\n  const NUM_TASK = 4;\n  const [tasks, setTasks] = useState([]);\n  const [filters, setFilter] = useState(\"filter__all\");\n  const [filtredArray, setFiltredArray] = useState(tasks)\n  const [page, setPages] = useState(1);\n  const [pagesCount, setPagesCount] = useState(1);\n  const [sort, setSort] = useState(\"sort__last\");\n\n  const handleFilter = (filter) => {\n    setFilter(filter);\n  };\n\n  const handleSort = (sort) => {\n    setSort(sort);\n  };\n\n  useEffect(() => {\n    switch (filters) {\n      case 'filter__all':\n        setFiltredArray([...tasks].sort((prev, next) =>sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id));\n        break;\n    \n      case 'filter__done':\n        setFiltredArray([...tasks].filter((task) => task.check === true).sort((prev, next) =>sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id));\n        break;\n\n      default:\n        setFiltredArray([...tasks].filter((task) => task.check !== true).sort((prev, next) =>sort === \"sort__last\" ? prev.id - next.id : next.id - prev.id));\n        break;\n    }\n  }, [filters, sort, tasks]);\n\n  useEffect(() => {\n    setPagesCount(Math.ceil(filtredArray.length / 4) || 1);\n  }, [filtredArray, filters, sort]);\n\n  useEffect(() => {\n    if (page > pagesCount){setPages(pagesCount)}\n  }, [pagesCount]);\n\n  const handlePage = (event) => {\n    switch (event.target.className) {\n      case \"pagination__forward\":\n        if (page === pagesCount) {\n          break;\n        }\n        setPages(page + 1);\n        break;\n      case \"pagination__back\":\n        if (page === 1) {\n          break;\n        }\n        setPages(page - 1);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const movingOnPages = (number) => {\n    setPages(number)\n  }\n\n  const addTask = (userInput) => {\n    if (userInput) {\n      const newTask = {\n        title: userInput,\n        id: Date.now(),\n        check: false,\n        date: moment().format(\"LLLL\"),\n      };\n      setTasks([...tasks, newTask]);\n    }\n  }\n\n  const removeTask = (id) => {\n    setTasks(tasks.filter((task) => task.id !== id));\n  };\n\n  const checkTask = (id) => {\n    setTasks(tasks.map((task) => ({...task, check: task.id === id ? (!task.check):(task.check)})));\n  };\n\n  return (\n    <main>\n      <h1>ToDo</h1>\n      <TodoForm addTask={addTask} />\n      <Filters\n        onFilter={handleFilter}\n        onSort={handleSort}\n        filters={filters}\n        sort={sort}\n      />\n      <div className=\"tasksBox\">\n        {filtredArray.slice((page - 1) * NUM_TASK, NUM_TASK * page)\n          .map((task) => {\n            return (\n              <Task\n                task={task}\n                key={task.id}\n                removeTask={removeTask}\n                checkTask={checkTask}\n                tasks={tasks}\n                page={page}\n              />\n            );\n          })}\n      </div>\n\n      <div className=\"pagination\">\n        <button\n          className=\"pagination__back\"\n          onClick={(event) => {\n            handlePage(event);\n          }}\n        >\n          back\n        </button>\n        <div className=\"pagination__pages\">\n          {new Array(pagesCount).fill().map((el, i) => \n          <Pagination\n            key={Math.random()}\n            page={page}\n            pagesCount={pagesCount}\n            i={i+1}\n            movingOnPages={movingOnPages}\n          />)}\n        </div>\n        <button\n          className=\"pagination__forward\"\n          onClick={(event) => {\n            handlePage(event);\n          }}\n        >\n          forward\n        </button>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}