{"ast":null,"code":"import _slicedToArray from\"/home/user/internship/reactClone/TODO_on_React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{validateInputTodo}from\"../../utils/utils.js\";import style from\"./TasksBox.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Task(_ref){var task=_ref.task,removeTask=_ref.removeTask,checkTask=_ref.checkTask,tasks=_ref.tasks,userInput=_ref.userInput,setUserInput=_ref.setUserInput;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),statusInput=_useState2[0],setStatusInput=_useState2[1];var handleChange=function handleChange(event){setUserInput(event.target.value);};var changeStatusInput=function changeStatusInput(){setUserInput(task.title);setStatusInput(true);};var blurInput=function blurInput(){setStatusInput(false);};var handleSubmit=function handleSubmit(event){event.preventDefault();var title=userInput.trim();if(!validateInputTodo(title)){setStatusInput(false);return;}if(title){tasks.find(function(item){if(item.id===task.id){item.title=title;return true;}});}setStatusInput(false);};var handleKeyPress=function handleKeyPress(event){switch(event.key){case\"Enter\":handleSubmit(event);break;case\"Escape\":setStatusInput(false);break;default:break;}};return/*#__PURE__*/_jsxs(\"div\",{className:style.task,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.task__inputs,children:[/*#__PURE__*/_jsxs(\"section\",{className:style.task__left,children:[/*#__PURE__*/_jsx(\"input\",{className:style.task__check,defaultChecked:task.check,onClick:function onClick(){return checkTask(task.id);},type:\"checkbox\"}),statusInput?/*#__PURE__*/_jsx(\"input\",{className:style.editTask,autoFocus:true,onBlur:blurInput,onKeyDown:handleKeyPress,value:userInput,onChange:handleChange,type:\"text\"}):/*#__PURE__*/_jsx(\"div\",{className:style.task__text,id:task.id,onDoubleClick:changeStatusInput,children:task.title})]}),/*#__PURE__*/_jsx(\"button\",{className:style.task__btnDelete,onClick:function onClick(){return removeTask(task.id);},children:\"del\"})]}),/*#__PURE__*/_jsx(\"div\",{className:style.task__date,children:task.date})]},task.id);}export default Task;","map":{"version":3,"names":["React","useState","validateInputTodo","style","Task","task","removeTask","checkTask","tasks","userInput","setUserInput","statusInput","setStatusInput","handleChange","event","target","value","changeStatusInput","title","blurInput","handleSubmit","preventDefault","trim","find","item","id","handleKeyPress","key","task__inputs","task__left","task__check","check","editTask","task__text","task__btnDelete","task__date","date"],"sources":["/home/user/internship/reactClone/TODO_on_React/src/components/TasksBox/Task.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { validateInputTodo } from \"../../utils/utils.js\";\nimport style from \"./TasksBox.module.css\";\n\nfunction Task({ task, removeTask, checkTask, tasks, userInput, setUserInput }) {\n  const [statusInput, setStatusInput] = useState(false);\n\n  const handleChange = (event) => {\n    setUserInput(event.target.value);\n  };\n\n  const changeStatusInput = () => {\n    setUserInput(task.title);\n    setStatusInput(true);\n  };\n\n  const blurInput = () => {\n    setStatusInput(false);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const title = userInput.trim();\n    if (!validateInputTodo(title)) {\n      setStatusInput(false);\n      return;\n    }\n    if (title) {\n      tasks.find((item) => {\n        if (item.id === task.id) {\n          item.title = title;\n          return true;\n        }\n      });\n    }\n\n    setStatusInput(false);\n  };\n\n  const handleKeyPress = (event) => {\n    switch (event.key) {\n      case \"Enter\":\n        handleSubmit(event);\n        break;\n      case \"Escape\":\n        setStatusInput(false);\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div key={task.id} className={style.task}>\n      <div className={style.task__inputs}>\n        <section className={style.task__left}>\n          <input\n            className={style.task__check}\n            defaultChecked={task.check}\n            onClick={() => checkTask(task.id)}\n            type=\"checkbox\"\n          />\n          {statusInput ? (\n            <input\n              className={style.editTask}\n              autoFocus\n              onBlur={blurInput}\n              onKeyDown={handleKeyPress}\n              value={userInput}\n              onChange={handleChange}\n              type=\"text\"\n            />\n          ) : (\n            <div\n              className={style.task__text}\n              id={task.id}\n              onDoubleClick={changeStatusInput}\n            >\n              {task.title}\n            </div>\n          )}\n        </section>\n        <button\n          className={style.task__btnDelete}\n          onClick={() => removeTask(task.id)}\n        >\n          del\n        </button>\n      </div>\n\n      <div className={style.task__date}>{task.date}</div>\n    </div>\n  );\n}\n\nexport default Task;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}