{"ast":null,"code":"import _toConsumableArray from\"/home/user/internship/reactClone/TODO_on_React/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useEffect}from\"react\";import{FILTERS,SORT}from\"../../constants.js\";import style from\"./Filters.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Filters(_ref){var setFilter=_ref.setFilter,setSort=_ref.setSort,setFiltredArray=_ref.setFiltredArray,setPagesCount=_ref.setPagesCount,filters=_ref.filters,tasks=_ref.tasks,sort=_ref.sort,filtredArray=_ref.filtredArray;var onFilter=function onFilter(filter){setFilter(filter);};var onSort=function onSort(sort){setSort(sort);};useEffect(function(){switch(filters){case 0:setFiltredArray(_toConsumableArray(tasks).sort(function(prev,next){return!sort?prev.id-next.id:next.id-prev.id;}));break;case 1:setFiltredArray(tasks.filter(function(task){return task.check;}).sort(function(prev,next){return!sort?prev.id-next.id:next.id-prev.id;}));break;default:setFiltredArray(tasks.filter(function(task){return task.check!==true;}).sort(function(prev,next){return!sort?prev.id-next.id:next.id-prev.id;}));break;}},[filters,sort,tasks]);useEffect(function(){setPagesCount(Math.ceil(filtredArray.length/4)||1);},[filtredArray,filters]);return/*#__PURE__*/_jsxs(\"section\",{className:style.filterBox,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.filterBox__filter,children:[/*#__PURE__*/_jsx(\"button\",{\"aria-pressed\":filters===0,onClick:function onClick(){onFilter(FILTERS.ALL);},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{\"aria-pressed\":filters===1,onClick:function onClick(){onFilter(FILTERS.DONE);},children:\"Done\"}),/*#__PURE__*/_jsx(\"button\",{\"aria-pressed\":filters===2,onClick:function onClick(){onFilter(FILTERS.UNDONE);},children:\"Undone\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.filterBox__sorting,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sort by Date\"}),/*#__PURE__*/_jsx(\"button\",{\"aria-pressed\":sort,onClick:function onClick(){onSort(SORT.EARLY);},children:\"Ear\"}),/*#__PURE__*/_jsx(\"button\",{\"aria-pressed\":!sort,onClick:function onClick(){onSort(SORT.LAST);},children:\"Las\"})]})]});}export default Filters;","map":{"version":3,"names":["useEffect","FILTERS","SORT","style","Filters","setFilter","setSort","setFiltredArray","setPagesCount","filters","tasks","sort","filtredArray","onFilter","filter","onSort","prev","next","id","task","check","Math","ceil","length","filterBox","filterBox__filter","ALL","DONE","UNDONE","filterBox__sorting","EARLY","LAST"],"sources":["/home/user/internship/reactClone/TODO_on_React/src/components/Filters/Filters.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { FILTERS, SORT } from \"../../constants.js\";\nimport style from \"./Filters.module.css\";\n\nfunction Filters({\n  setFilter,\n  setSort,\n  setFiltredArray,\n  setPagesCount,\n  filters,\n  tasks,\n  sort,\n  filtredArray,\n}) {\n  const onFilter = (filter) => {\n    setFilter(filter);\n  };\n\n  const onSort = (sort) => {\n    setSort(sort);\n  };\n\n  useEffect(() => {\n    switch (filters) {\n      case 0:\n        setFiltredArray(\n          [...tasks].sort((prev, next) =>\n            !sort ? prev.id - next.id : next.id - prev.id\n          )\n        );\n        break;\n\n      case 1:\n        setFiltredArray(\n          tasks\n            .filter((task) => task.check)\n            .sort((prev, next) =>\n              !sort ? prev.id - next.id : next.id - prev.id\n            )\n        );\n        break;\n\n      default:\n        setFiltredArray(\n          tasks\n            .filter((task) => task.check !== true)\n            .sort((prev, next) =>\n              !sort ? prev.id - next.id : next.id - prev.id\n            )\n        );\n        break;\n    }\n  }, [filters, sort, tasks]);\n\n  useEffect(() => {\n    setPagesCount(Math.ceil(filtredArray.length / 4) || 1);\n  }, [filtredArray, filters]);\n\n  return (\n    <section className={style.filterBox}>\n      <div className={style.filterBox__filter}>\n        <button\n          aria-pressed={filters === 0}\n          onClick={() => {\n            onFilter(FILTERS.ALL);\n          }}\n        >\n          All\n        </button>\n        <button\n          aria-pressed={filters === 1}\n          onClick={() => {\n            onFilter(FILTERS.DONE);\n          }}\n        >\n          Done\n        </button>\n        <button\n          aria-pressed={filters === 2}\n          onClick={() => {\n            onFilter(FILTERS.UNDONE);\n          }}\n        >\n          Undone\n        </button>\n      </div>\n      <div className={style.filterBox__sorting}>\n        <span>Sort by Date</span>\n        <button\n          aria-pressed={sort}\n          onClick={() => {\n            onSort(SORT.EARLY);\n          }}\n        >\n          Ear\n        </button>\n        <button\n          aria-pressed={!sort}\n          onClick={() => {\n            onSort(SORT.LAST);\n          }}\n        >\n          Las\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default Filters;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}